{
  "description": "Compact conversation scenario: conversation continued from previous one due to context overflow. Tests linking when first user message contains 'This session is being continued from a previous conversation'",
  "type": "compact",
  "expectedLink": true,
  "parent": {
    "request_id": "57413f14-0408-4e9a-b92e-6711b8deb2d5",
    "domain": "test.example.com",
    "conversation_id": "bb9997eb-1036-4b14-8dad-290c30626d3f",
    "branch_id": "compact_120000",
    "current_message_hash": "eb83c7aa955ad43f25ec41c2b38c04813329a7afd9d6fe58034941f4f1db8ade",
    "parent_message_hash": "cf463d817f57fecf16ab1d35409c2feb62254e193ceb8c29c91ad23fc39a205a",
    "system_hash": "6fbbbf4eb796b104ececaf8a5dd6958159056102ca8df8694b7c234db72e1366",
    "body": {
      "model": "claude-3-opus-20240229",
      "messages": [
        {
          "role": "user",
          "content": "Continue implementing the feature"
        },
        {
          "role": "assistant",
          "content": "I'll continue working on the feature implementation."
        }
      ]
    },
    "response_body": {
      "content": [
        {
          "text": "I'll continue working on the feature implementation.",
          "type": "text"
        }
      ]
    }
  },
  "child": {
    "request_id": "be29cb5e-61e4-449b-b91c-271d338a514b",
    "domain": "test.example.com",
    "body": {
      "model": "claude-3-opus-20240229",
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "text": "This session is being continued from a previous conversation that ran out of context. The conversation is summarized below:\nThe user asked me to implement a feature. I started working on it but ran out of context.\n\nPlease continue with the implementation.",
              "type": "text"
            }
          ]
        }
      ]
    }
  },
  "expectedSummaryContent": "The user asked me to implement a feature. I started working on it but ran out of context.\n\nPlease continue with the implementation."
}
