{
  "description": "Branch creation - returning to an earlier point in conversation",
  "type": "branch",
  "expectedLink": true,
  "expectedParentHash": "f1017361707131e382feb25bc3b7a99de74dbd87b66d041f9bb2e0c34b943341",
  "expectedBranchPattern": "^branch_\\d+$",
  "parent": {
    "request_id": "parent-uuid-3",
    "domain": "test.com",
    "conversation_id": "conv-uuid-3",
    "branch_id": "main",
    "current_message_hash": "f1017361707131e382feb25bc3b7a99de74dbd87b66d041f9bb2e0c34b943341",
    "parent_message_hash": null,
    "system_hash": "system-hash-3",
    "body": {
      "messages": [
        {
          "role": "user",
          "content": "Help me write a Python function to calculate factorial"
        }
      ]
    }
  },
  "existingChild": {
    "request_id": "existing-child-uuid",
    "domain": "test.com",
    "conversation_id": "conv-uuid-3",
    "branch_id": "main",
    "parent_message_hash": "f1017361707131e382feb25bc3b7a99de74dbd87b66d041f9bb2e0c34b943341",
    "current_message_hash": "hash-of-existing-path"
  },
  "child": {
    "request_id": "child-uuid-3",
    "domain": "test.com",
    "body": {
      "messages": [
        {
          "role": "user",
          "content": "Help me write a Python function to calculate factorial"
        },
        {
          "role": "assistant",
          "content": "I'll help you write a factorial function. Here's a simple iterative approach:"
        },
        {
          "role": "user",
          "content": "Actually, let me show you a recursive approach instead"
        }
      ],
      "system": "You are a helpful coding assistant"
    }
  }
}