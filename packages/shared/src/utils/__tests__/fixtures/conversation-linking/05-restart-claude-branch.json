{
  "description": "Restart Claude Code session - system prompt changes",
  "type": "compact",
  "expectedLink": true,
  "expectedSummaryContent": "implementing a dual hash system",
  "expectedBranchPattern": "^compact_\\d{6}$",
  "parent": {
    "request_id": "parent-uuid-5",
    "domain": "test.com",
    "conversation_id": "conv-uuid-5",
    "branch_id": "main",
    "current_message_hash": "parent-hash-5",
    "parent_message_hash": "grandparent-hash-5",
    "system_hash": "system-hash-5",
    "response_body": {
      "content": [
        {
          "text": "I've successfully implemented the dual hash system for conversation linking. The system now separately tracks message hashes and system prompt hashes.",
          "type": "text"
        }
      ]
    }
  },
  "child": {
    "request_id": "child-uuid-5",
    "domain": "test.com",
    "body": {
      "messages": [
        {
          "role": "user",
          "content": "This session is being continued from a previous conversation that ran out of context. The conversation is summarized below: implementing a dual hash system for conversation tracking. Please continue the conversation from where we left it off without asking the user any further questions. Continue with the last task that you were asked to work on."
        }
      ],
      "system": "You are a helpful coding assistant. Git status: modified files"
    }
  }
}
